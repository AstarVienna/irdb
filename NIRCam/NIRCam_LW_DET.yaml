object: detector
alias: DET
name: nircam_ir_detector_array
description: 2K Ã— 2K HgCdTe detectors
source: "https://jwst-docs.stsci.edu/jwst-near-infrared-camera/nircam-instrumentation/nircam-detector-overview/nircam-detector-performance"

properties:
  image_plane_id: 0
  temperature: -240
  dit: "!OBS.dit"
  ndit: "!OBS.ndit"

effects:
  - name: detector_array
    class: DetectorList
    kwargs:
      filename: DET_LW_layout_simple.dat

  - name: detector_border
    class: ReferencePixelBorder
    kwargs:
      width: 4
      edges: ["all"]

  # - name: qe_curve
  #   description: Quantum efficiency curve
  #   class: QuantumEfficiencyCurve
  #   kwargs:
  #     filename: .dat

  - name: exposure_integration
    description: Summing up sky signal for all DITs and NDITs
    class: ExposureIntegration

  - name: dark_current
    class: DarkCurrent
    # TODO: Available per-chip in layout file, should take from there!
    kwargs:
      value: 0.0342  # [e-/s]

  # - name: detector_linearity
  #   description : Linearity characteristics of H4RG chips
  #   class: LinearityCurve
  #   kwargs:
  #       filename : .dat

  - name: shot_noise
    description: apply poisson shot noise to images
    class: ShotNoise

  - name: readout_noise
    description: Readout noise frames
    class: BasicReadoutNoise
    kwargs:
      noise_std: 13.25
