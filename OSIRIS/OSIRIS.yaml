### OSIRIS instrument

object: instrument
alias: INST
name: OSIRIS
description : The OSIRIS common optics
date_created: 2022-03-02
date_modified: 2022-03-02
changes:
  - 2022-03-02 (KL) Created file based on METIS.yaml


properties:
  pixel_scale: 0.127        # [arcsec / pixel]
  plate_scale: 8.46666667   # [arcsec / mm]


effects:
  - name: grating_efficiency
    description: OSIRIS grating efficiency curves, piggybacking on FilterWheel
    class: FilterWheel
    include: False
    filename_format: "gratings/{}.txt"
    minimum_throughput: !!float 0.
    grating_name: "!OBS.grating_name"
    current_filter: "unity"
    kwargs:
      filter_names:
        - unity
        - R300B
        - R300R
        - R500B
        - R500R
        - R1000B
        - R1000R
        - R2000B
        - R2500I
        - R2500R
        - R2500U
        - R2500V

  - name: slit_wheel
    description: collection of LSS slits
    class: SlitWheel
    filename_format: "longslits/{}.txt"
    current_slit: "!OBS.longslit_name"
    include: False
    kwargs:
      slit_names:
        - LongSlits0.4Arcsec
        - LongSlits0.6Arcsec
        - LongSlits0.8Arcsec
        - LongSlits1.0Arcsec
        - LongSlits1.2Arcsec
        - LongSlits1.5Arcsec
        - LongSlits1.8Arcsec
        - LongSlits2.5Arcsec
        - LongSlits3.0Arcsec
        - LongSlits5.0Arcsec

  - name: filter
    description: OSIRIS filter curve from the Spanish VO
    class: SpanishVOFilterWheel
    include: True
    kwargs:
      observatory: GTC
      instrument: OSIRIS
      current_filter: "!OBS.filter_name"
      include_str: "_filter"                        # only include SVO entries with _filter in the name

  - name: OSIRIS_detector_qe
    class: QuantumEfficiencyCurve
    kwargs:
      filename: QE_OSIRIS_new_detector.dat          # fix formatting in file

  - name: osiris_4k_detector
    class: DetectorList
    kwargs:
      array_dict:
        id: [1]
        x_cen: [0]
        y_cen: [0]
        x_size: [4096]
        y_size: [4096]
        pixel_size: [0.015]
        angle: [0.]
        gain: [1.0]
      x_cen_unit : mm
      y_cen_unit : mm
      x_size_unit : pixel
      y_size_unit : pixel
      pixel_size_unit : mm
      angle_unit : deg
      gain_unit : electron/adu
      image_plane_id : 0
